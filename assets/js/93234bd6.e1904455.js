"use strict";(self.webpackChunkwebsite_docusaurus=self.webpackChunkwebsite_docusaurus||[]).push([[8458],{7060:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>d});var s=t(4848),i=t(8453);const r={},o="Docker / Compose",a={id:"docker",title:"Docker / Compose",description:"1. System Requirements",source:"@site/docs/docker.md",sourceDirName:".",slug:"/docker",permalink:"/docs/docker",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Features",permalink:"/docs/features"},next:{title:"Kubernetes",permalink:"/docs/kubernetes"}},c={},d=[{value:"1. System Requirements",id:"1-system-requirements",level:2},{value:"2. Setting up the container",id:"2-setting-up-the-container",level:2},{value:"docker-compose.yml",id:"docker-composeyml",level:4},{value:"3. Initial configration",id:"3-initial-configration",level:2},{value:"4. Use the web app to book spaces",id:"4-use-the-web-app-to-book-spaces",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"docker--compose",children:"Docker / Compose"}),"\n",(0,s.jsx)(n.h2,{id:"1-system-requirements",children:"1. System Requirements"}),"\n",(0,s.jsx)(n.p,{children:"To set up the Seatsurfing backend on your server, the following system requirements must be met:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Linux server"}),"\n",(0,s.jsx)(n.li,{children:"Docker runtime environment (or CRI/containerd in case of Kubernetes, tested with Docker Engine version 20.x and containerd version 1.4.x)"}),"\n",(0,s.jsx)(n.li,{children:"PostgreSQL (tested with PostgreSQL version 12.x and 13.x)"}),"\n",(0,s.jsx)(n.li,{children:"Optionally: Docker Compose (tested with Docker Comopse version 2.x)"}),"\n",(0,s.jsx)(n.li,{children:"Recommended: Reverse proxy with TLS termination (tested with Traefik version 2.x)"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"2-setting-up-the-container",children:"2. Setting up the container"}),"\n",(0,s.jsx)(n.p,{children:"The following example demonstrates setting up Seatsurfing backend using Docker Compose. We'll start the required PostgreSQL database as part of the compose file."}),"\n",(0,s.jsx)(n.p,{children:"For simplicity and demonstration purposes only, container port 8080 is published directly on the host. When using Seatsurfing in production, you should place a reverse proxy in front of the Seatsurfing backend which also takes care of TLS termination."}),"\n",(0,s.jsx)(n.h4,{id:"docker-composeyml",children:"docker-compose.yml"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"version: '3.7'\n\nservices:\n  server:\n    image: seatsurfing/backend\n    restart: always\n    networks:\n      sql:\n      http:\n    ports:\n      - 8080:8080\n    environment:\n      POSTGRES_URL: 'postgres://seatsurfing:DB_PASSWORD@db/seatsurfing?sslmode=disable'\n      JWT_SIGNING_KEY: 'some_random_string'\n      BOOKING_UI_BACKEND: 'booking-ui:3001'\n      ADMIN_UI_BACKEND: 'admin-ui:3000'\n      PUBLIC_URL: 'https://seatsurfing.your-domain.com'\n      FRONTEND_URL: 'https://seatsurfing.your-domain.com'\n  booking-ui:\n    image: seatsurfing/booking-ui\n    restart: always\n    networks:\n      http:\n    environment:\n      FRONTEND_URL: 'https://seatsurfing.your-domain.com'\n  admin-ui:\n    image: seatsurfing/admin-ui\n    restart: always\n    networks:\n      http:\n    environment:\n      FRONTEND_URL: 'https://seatsurfing.your-domain.com'\n  db:\n    image: postgres:12\n    restart: always\n    networks:\n      sql:\n    volumes:\n      - db:/var/lib/postgresql/data\n    environment:\n      POSTGRES_PASSWORD: DB_PASSWORD\n      POSTGRES_USER: seatsurfing\n      POSTGRES_DB: seatsurfing\n\nvolumes:\n  db:\n\nnetworks:\n  sql:\n  http:\n"})}),"\n",(0,s.jsx)(n.p,{children:"This starts..."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:'a PostgreSQL database with data stored on Docker volume "db"'}),"\n",(0,s.jsx)(n.li,{children:"a Seatsurfing Backend instance with port 8080 exposed."}),"\n",(0,s.jsx)(n.li,{children:"a Seatsurfing Booking UI instance which is accessible through the Backend instance at: :8080/ui/"}),"\n",(0,s.jsx)(n.li,{children:"a Seatsurfing Admin UI instance which is accessible through the Backend instance at: :8080/admin/"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Start the Seatsurfing backend by running: ",(0,s.jsx)(n.code,{children:"docker compose up -d"})]}),"\n",(0,s.jsxs)(n.p,{children:["Afterwards, Seatsurfing can be accessed at: ",(0,s.jsx)(n.a,{href:"http://localhost:8080",children:"http://localhost:8080"})]}),"\n",(0,s.jsx)(n.h2,{id:"3-initial-configration",children:"3. Initial configration"}),"\n",(0,s.jsxs)(n.p,{children:["Access the administrator web-interface using a modern web browser (i.e. Chrome, Firefox, Safari) at: ",(0,s.jsx)(n.a,{href:"http://localhost:8080/admin/",children:"http://localhost:8080/admin/"})]}),"\n",(0,s.jsxs)(n.p,{children:["By default, an organisation with one administrator account is created on backend startup if no organisation already exists in the specified database. If not defined otherwise, use ",(0,s.jsx)(n.code,{children:"admin@seatsurfing.local"})," as the username and ",(0,s.jsx)(n.code,{children:"12345678"})," as the password."]}),"\n",(0,s.jsxs)(n.p,{children:["The administrator interface can be used to manage room plans, users and settings. Read more about it in the ",(0,s.jsx)(n.a,{href:"/docs/admin-ui",children:"Administration"})," section."]}),"\n",(0,s.jsx)(n.h2,{id:"4-use-the-web-app-to-book-spaces",children:"4. Use the web app to book spaces"}),"\n",(0,s.jsx)(n.p,{children:"Let your coworkers use the progressive web app (PWA) to book spaces using their mobile devices or desktop computers:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"http://localhost:8080/ui/",children:"http://localhost:8080/ui/"})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var s=t(6540);const i={},r=s.createContext(i);function o(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);